"use strict";var I=Object.create;var o=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var D=(e,t)=>{for(var r in t)o(e,r,{get:t[r],enumerable:!0})},g=(e,t,r,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of b(t))!C.call(e,a)&&a!==r&&o(e,a,{get:()=>t[a],enumerable:!(p=k(t,a))||p.enumerable});return e};var i=(e,t,r)=>(r=e!=null?I(T(e)):{},g(t||!e||!e.__esModule?o(r,"default",{value:e,enumerable:!0}):r,e)),E=e=>g(o({},"__esModule",{value:!0}),e);var L={};D(L,{API_ENV:()=>d,extensionBuildDirectory:()=>v,getConfig:()=>N,initConfig:()=>S,raycastAppScheme:()=>R,raycastBundleID:()=>x,raycastConfigDirectory:()=>l,setConfig:()=>U});module.exports=E(L);var s=i(require("node:fs")),c=i(require("node:path")),A=i(require("node:os"));var m=i(require("node:path")),h=i(require("node:fs"));function y(){let e;try{e=m.resolve("package.json")}catch(r){throw new Error(`cannot resolve package manifest path: ${r}`)}let t;try{t=JSON.parse(h.readFileSync(e,"utf8"))}catch(r){throw new Error(`cannot read package manifest: ${r}`)}return t.name=t.name.replace(/^@workaround/g,""),t}var d={production:{url:"https://www.raycast.com",clientID:"KqAdcGhNfBKiUpfjD3nU3VNgh1t0iMPoX2hYEkN9d4I"},staging:{url:"https://www.rayca.st",clientID:"KqAdcGhNfBKiUpfjD3nU3VNgh1t0iMPoX2hYEkN9d4I"},development:{url:"http://localhost:3000",clientID:"rOCD_LhnXFObSLu9v7788qOGu25FZDqEzGjet4Q45ZY"}}[process.env.API_ENV||"production"],w="e69bae0ec90f5e838555",n={},f;function v(){let e=y();if(!e.name)throw new Error("extension name in manifest cannot be empty");return c.join(l(),"extensions",e.name)}function x(){let e=u(f);return e?`com.raycast.macos.${e}`:"com.raycast.macos"}function R(){return`raycast${u(f)}`}function S(e){f=e;try{n=JSON.parse(s.readFileSync(c.join(l(),"config.json"),"utf8"))}catch(t){if(t instanceof Error&&t.code==="ENOENT")return;throw new Error(`Failed to read config file: ${t}`)}}function N(e){switch(e){case"raycastApiURL":return process.env.RAY_APIURL||n.APIURL||d.url;case"raycastAccessToken":return process.env.RAY_TOKEN||n.Token||n.AccessToken||"";case"raycastClientId":return process.env.RAY_CLIENT_ID||n.ClientID||d.clientID;case"githubClientId":return process.env.RAY_GithubClientID||n.GithubClientID||w;case"githubAccessToken":return process.env.GITHUB_ACCESS_TOKEN||n.GithubAccessToken||"";case"flavorName":return process.env.RAY_Target||(typeof n.Target>"u"?u("release"):n.Target)}}function U(e,t){switch(e){case"raycastApiURL":t===void 0?delete n.APIURL:n.APIURL=t;break;case"raycastAccessToken":t===void 0?delete n.Token:n.Token=t,delete n.AccessToken;break;case"raycastClientId":t===void 0?delete n.ClientID:n.ClientID=t;break;case"githubAccessToken":t===void 0?delete n.GithubAccessToken:n.GithubAccessToken=t;break;case"flavorName":t===void 0?delete n.Target:n.Target=t;break}let r=l();s.writeFileSync(c.join(r,"config.json"),JSON.stringify(n,null,"  "),"utf8")}function u(e){switch(e){case"debug":return"debug";case"internal":return"internal";case"release":return"";case void 0:return N("flavorName")}}function G(){let e=u(f);return e==""?"raycast":`raycast-${e}`}function l(){let e=c.join(A.default.homedir(),".config",G());return s.mkdirSync(e,{recursive:!0}),e}0&&(module.exports={API_ENV,extensionBuildDirectory,getConfig,initConfig,raycastAppScheme,raycastBundleID,raycastConfigDirectory,setConfig});
